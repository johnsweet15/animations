{"ast":null,"code":"import _defineProperty from \"@babel/runtime/helpers/esm/defineProperty\";\nimport axios from \"axios\";\nimport { message } from \"antd\";\n\nclass Service {\n  constructor() {\n    _defineProperty(this, \"handleError\", error => {\n      var _error$response;\n\n      console.log(\"here\");\n\n      switch (error === null || error === void 0 ? void 0 : (_error$response = error.response) === null || _error$response === void 0 ? void 0 : _error$response.status) {\n        case 403:\n          message.error(\"Invalid session. Please try signing in again.\");\n          break;\n\n        case 404:\n          message.error(\"Not found\");\n          break;\n\n        default:\n          message.error(\"Internal server error.\");\n          break;\n      }\n\n      return Promise.reject(error);\n    });\n\n    let service = axios.create({});\n    service.interceptors.response.use(this.handleSuccess, this.handleError);\n    this.service = service;\n  }\n\n  handleSuccess(response) {\n    return response;\n  }\n\n  get(path, params) {\n    return this.service.get(path, {\n      params: params\n    });\n  }\n\n  post(path, payload) {\n    return this.service.post(path, payload);\n  }\n\n}\n\nlet service = new Service();\nexport default service;","map":{"version":3,"sources":["/Users/johnsweet/repos/starter-frontend/src/services/service.js"],"names":["axios","message","Service","constructor","error","console","log","response","status","Promise","reject","service","create","interceptors","use","handleSuccess","handleError","get","path","params","post","payload"],"mappings":";AAAA,OAAOA,KAAP,MAAkB,OAAlB;AACA,SAASC,OAAT,QAAwB,MAAxB;;AAEA,MAAMC,OAAN,CAAc;AACZC,EAAAA,WAAW,GAAG;AAAA,yCAWCC,KAAD,IAAW;AAAA;;AACvBC,MAAAA,OAAO,CAACC,GAAR,CAAY,MAAZ;;AACA,cAAQF,KAAR,aAAQA,KAAR,0CAAQA,KAAK,CAAEG,QAAf,oDAAQ,gBAAiBC,MAAzB;AACE,aAAK,GAAL;AACEP,UAAAA,OAAO,CAACG,KAAR,CAAc,+CAAd;AACA;;AACF,aAAK,GAAL;AACEH,UAAAA,OAAO,CAACG,KAAR,CAAc,WAAd;AACA;;AACF;AACEH,UAAAA,OAAO,CAACG,KAAR,CAAc,wBAAd;AACA;AATJ;;AAWA,aAAOK,OAAO,CAACC,MAAR,CAAeN,KAAf,CAAP;AACD,KAzBa;;AACZ,QAAIO,OAAO,GAAGX,KAAK,CAACY,MAAN,CAAa,EAAb,CAAd;AAEAD,IAAAA,OAAO,CAACE,YAAR,CAAqBN,QAArB,CAA8BO,GAA9B,CAAkC,KAAKC,aAAvC,EAAsD,KAAKC,WAA3D;AACA,SAAKL,OAAL,GAAeA,OAAf;AACD;;AAEDI,EAAAA,aAAa,CAACR,QAAD,EAAW;AACtB,WAAOA,QAAP;AACD;;AAkBDU,EAAAA,GAAG,CAACC,IAAD,EAAOC,MAAP,EAAe;AAChB,WAAO,KAAKR,OAAL,CAAaM,GAAb,CAAiBC,IAAjB,EAAuB;AAAEC,MAAAA,MAAM,EAAEA;AAAV,KAAvB,CAAP;AACD;;AAEDC,EAAAA,IAAI,CAACF,IAAD,EAAOG,OAAP,EAAgB;AAClB,WAAO,KAAKV,OAAL,CAAaS,IAAb,CAAkBF,IAAlB,EAAwBG,OAAxB,CAAP;AACD;;AAlCW;;AAqCd,IAAIV,OAAO,GAAG,IAAIT,OAAJ,EAAd;AACA,eAAeS,OAAf","sourcesContent":["import axios from \"axios\";\nimport { message } from \"antd\";\n\nclass Service {\n  constructor() {\n    let service = axios.create({});\n\n    service.interceptors.response.use(this.handleSuccess, this.handleError);\n    this.service = service;\n  }\n\n  handleSuccess(response) {\n    return response;\n  }\n\n  handleError = (error) => {\n    console.log(\"here\");\n    switch (error?.response?.status) {\n      case 403:\n        message.error(\"Invalid session. Please try signing in again.\");\n        break;\n      case 404:\n        message.error(\"Not found\");\n        break;\n      default:\n        message.error(\"Internal server error.\");\n        break;\n    }\n    return Promise.reject(error);\n  };\n\n  get(path, params) {\n    return this.service.get(path, { params: params });\n  }\n\n  post(path, payload) {\n    return this.service.post(path, payload);\n  }\n}\n\nlet service = new Service();\nexport default service;\n"]},"metadata":{},"sourceType":"module"}