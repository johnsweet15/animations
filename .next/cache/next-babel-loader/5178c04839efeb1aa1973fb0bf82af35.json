{"ast":null,"code":"import _defineProperty from \"@babel/runtime/helpers/esm/defineProperty\";\nimport axios from \"axios\";\n\nclass Service {\n  constructor() {\n    _defineProperty(this, \"handleError\", error => {\n      var _error$response;\n\n      switch (error === null || error === void 0 ? void 0 : (_error$response = error.response) === null || _error$response === void 0 ? void 0 : _error$response.status) {\n        case 403:\n          alert(\"Invalid session. Please try signing in again.\");\n          break;\n\n        case 404:\n          alert(\"Not found\");\n          break;\n\n        default:\n          alert(\"Internal server error.\");\n          break;\n      }\n\n      return Promise.reject(error);\n    });\n\n    let service = axios.create({});\n    service.interceptors.response.use(this.handleSuccess, this.handleError);\n    this.service = service;\n  }\n\n  handleSuccess(response) {\n    return response;\n  }\n\n  get(path, params) {\n    return this.service.get(path, {\n      params: params\n    });\n  }\n\n  post(path, payload) {\n    return this.service.post(path, payload);\n  }\n\n}\n\nlet service = new Service();\nexport default service;","map":{"version":3,"sources":["/Users/johnsweet/repos/starter-frontend/src/services/service.js"],"names":["axios","Service","constructor","error","response","status","alert","Promise","reject","service","create","interceptors","use","handleSuccess","handleError","get","path","params","post","payload"],"mappings":";AAAA,OAAOA,KAAP,MAAkB,OAAlB;;AAEA,MAAMC,OAAN,CAAc;AACZC,EAAAA,WAAW,GAAG;AAAA,yCAWCC,KAAD,IAAW;AAAA;;AACvB,cAAQA,KAAR,aAAQA,KAAR,0CAAQA,KAAK,CAAEC,QAAf,oDAAQ,gBAAiBC,MAAzB;AACE,aAAK,GAAL;AACEC,UAAAA,KAAK,CAAC,+CAAD,CAAL;AACA;;AACF,aAAK,GAAL;AACEA,UAAAA,KAAK,CAAC,WAAD,CAAL;AACA;;AACF;AACEA,UAAAA,KAAK,CAAC,wBAAD,CAAL;AACA;AATJ;;AAWA,aAAOC,OAAO,CAACC,MAAR,CAAeL,KAAf,CAAP;AACD,KAxBa;;AACZ,QAAIM,OAAO,GAAGT,KAAK,CAACU,MAAN,CAAa,EAAb,CAAd;AAEAD,IAAAA,OAAO,CAACE,YAAR,CAAqBP,QAArB,CAA8BQ,GAA9B,CAAkC,KAAKC,aAAvC,EAAsD,KAAKC,WAA3D;AACA,SAAKL,OAAL,GAAeA,OAAf;AACD;;AAEDI,EAAAA,aAAa,CAACT,QAAD,EAAW;AACtB,WAAOA,QAAP;AACD;;AAiBDW,EAAAA,GAAG,CAACC,IAAD,EAAOC,MAAP,EAAe;AAChB,WAAO,KAAKR,OAAL,CAAaM,GAAb,CAAiBC,IAAjB,EAAuB;AAAEC,MAAAA,MAAM,EAAEA;AAAV,KAAvB,CAAP;AACD;;AAEDC,EAAAA,IAAI,CAACF,IAAD,EAAOG,OAAP,EAAgB;AAClB,WAAO,KAAKV,OAAL,CAAaS,IAAb,CAAkBF,IAAlB,EAAwBG,OAAxB,CAAP;AACD;;AAjCW;;AAoCd,IAAIV,OAAO,GAAG,IAAIR,OAAJ,EAAd;AACA,eAAeQ,OAAf","sourcesContent":["import axios from \"axios\";\n\nclass Service {\n  constructor() {\n    let service = axios.create({});\n\n    service.interceptors.response.use(this.handleSuccess, this.handleError);\n    this.service = service;\n  }\n\n  handleSuccess(response) {\n    return response;\n  }\n\n  handleError = (error) => {\n    switch (error?.response?.status) {\n      case 403:\n        alert(\"Invalid session. Please try signing in again.\");\n        break;\n      case 404:\n        alert(\"Not found\");\n        break;\n      default:\n        alert(\"Internal server error.\");\n        break;\n    }\n    return Promise.reject(error);\n  };\n\n  get(path, params) {\n    return this.service.get(path, { params: params });\n  }\n\n  post(path, payload) {\n    return this.service.post(path, payload);\n  }\n}\n\nlet service = new Service();\nexport default service;\n"]},"metadata":{},"sourceType":"module"}